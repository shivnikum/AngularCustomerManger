(function () {

    
    var injectParams = ['$http', '$q'];

    var customersFactory = function ($http, $q) {
        var serviceBase = '/api/dataservice/',
            factory = {};
        
        factory.newCustomer = function () {
            return $q.when({id: 0});
        };
        
        factory.getCustomers = function(pageIndex, pageSize){
           return getPagedResource('customers', pageIndex, pageSize);
        };
        
        factory.getCustomersSummary = function (pageIndex, pageSize) {
            return getPagedResource('customersSummary', pageIndex, pageSize);
        };
        
        factory.getStates = function () {
            var deffered = $q.defer();
            /*{"customers":[{"firstName":"Marcus","lastName":"HighTower","email":"Marcus.HighTower@acmecorp.com","address":"1234 Anywhere St.","city":"Phoenix","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85229,"gender":"Male","id":1,"orderCount":10,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-07-18T11:45:13.323Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-10T11:45:13.323Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-09-20T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-27T11:45:13.323Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-10T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-13T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-05T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-06-18T11:45:13.323Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-22T11:45:13.323Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-07-21T11:45:13.323Z"}]},{"firstName":"Jesse","lastName":"Smith","email":"Jesse.Smith@gmail.com","address":"435 Main St.","city":"Encinitas","state":{"id":9,"abbreviation":"CA","name":"California"},"stateId":9,"zip":85230,"gender":"Female","id":2,"orderCount":5,"orders":[{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-09-07T11:45:13.323Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-02T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-08-17T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-15T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-31T11:45:13.323Z"}]},{"firstName":"Albert","lastName":"Einstein","email":"Albert.Einstein@outlook.com","address":"1 Atomic St.","city":"Seattle","state":{"id":44,"abbreviation":"WA","name":"Washington"},"stateId":44,"zip":85231,"gender":"Male","id":3,"orderCount":2,"orders":[{"product":"Needes","price":5.99,"quantity":1,"date":"2015-06-28T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-27T11:45:13.323Z"}]},{"firstName":"Dan","lastName":"Wahlin","email":"Dan.Wahlin@yahoo.com","address":"85 Cedar Dr.","city":"Chandler","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85232,"gender":"Male","id":4,"orderCount":11,"orders":[{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-07-15T11:45:13.323Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-14T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-19T11:45:13.323Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-07T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-08-03T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-22T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-08-03T11:45:13.323Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-26T11:45:13.323Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-27T11:45:13.323Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-07-04T11:45:13.323Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-09-12T11:45:13.323Z"}]},{"firstName":"Ward","lastName":"Bell","email":"Ward.Bell@gmail.com","address":"12 Ocean View St.","city":"Dallas","state":{"id":36,"abbreviation":"TX","name":"Texas"},"stateId":36,"zip":85233,"gender":"Male","id":5,"orderCount":8,"orders":[{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-09T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-23T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-06-23T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-09-05T11:45:13.323Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-12T11:45:13.323Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-05T11:45:13.323Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-05T11:45:13.323Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-07-07T11:45:13.323Z"}]},{"firstName":"Brad","lastName":"Green","email":"Brad.Green@gmail.com","address":"1600 Amphitheatre Parkway","city":"Orlando","state":{"id":17,"abbreviation":"FL","name":"Florida"},"stateId":17,"zip":85234,"gender":"Male","id":6,"orderCount":6,"orders":[{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-06-28T11:45:13.323Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-07-13T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-07T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-08T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-06-30T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-13T11:45:13.324Z"}]},{"firstName":"Igor","lastName":"Minar","email":"Igor.Minar@gmail.com","address":"1604 Amphitheatre Parkway","city":"Carey","state":{"id":16,"abbreviation":"NC","name":"North Carolina"},"stateId":16,"zip":85235,"gender":"Male","id":7,"orderCount":5,"orders":[{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-08T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-11T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-06-29T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-09-03T11:45:13.324Z"},{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-08-11T11:45:13.324Z"}]},{"firstName":"Misko","lastName":"Hevery","email":"Misko.Hevery@gmail.com","address":"1607 Amphitheatre Parkway","city":"Anaheim","state":{"id":9,"abbreviation":"CA","name":"California"},"stateId":9,"zip":85236,"gender":"Male","id":8,"orderCount":7,"orders":[{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-31T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-06T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-06-28T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-30T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-09-13T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-09-10T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-16T11:45:13.324Z"}]},{"firstName":"Michelle","lastName":"Avery","email":"Michelle.Avery@acmecorp.com","address":"346 Cedar Ave.","city":"Dallas","state":{"id":36,"abbreviation":"TX","name":"Texas"},"stateId":36,"zip":85237,"gender":"Female","id":9,"orderCount":6,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-04T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-29T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-31T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-20T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-11T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-07-19T11:45:13.324Z"}]},{"firstName":"Heedy","lastName":"Wahlin","email":"Heedy.Wahlin@hotmail.com","address":"4576 Main St.","city":"New York","state":{"id":14,"abbreviation":"NY","name":"New York"},"stateId":14,"zip":85238,"gender":"Female","id":10,"orderCount":11,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-06-20T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-07-20T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-26T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-14T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-09-01T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-08-05T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-06-28T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-24T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-07T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-14T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-07T11:45:13.324Z"}]},{"firstName":"Thomas","lastName":"Martin","email":"Thomas.Martin@outlook.com","address":"964 Point St.","city":"White Plains","state":{"id":14,"abbreviation":"NY","name":"New York"},"stateId":14,"zip":85239,"gender":"Male","id":11,"orderCount":7,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-07-26T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-01T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-09-20T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-09-09T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-06T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-16T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-06T11:45:13.324Z"}]},{"firstName":"Jean","lastName":"Martin","email":"Jean.Martin@outlook.com","address":"98756 Center St.","city":"Las Vegas","state":{"id":6,"abbreviation":"NV","name":"Nevada"},"stateId":6,"zip":85240,"gender":"Female","id":12,"orderCount":1,"orders":[{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-07T11:45:13.324Z"}]},{"firstName":"Robin","lastName":"Cleark","email":"Robin.Cleark@acmecorp.com","address":"35632 Richmond Circle Apt B","city":"Los Angeles","state":{"id":9,"abbreviation":"CA","name":"California"},"stateId":9,"zip":85241,"gender":"Female","id":13,"orderCount":6,"orders":[{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-21T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-09-22T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-05T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-06T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-03T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-06-18T11:45:13.324Z"}]},{"firstName":"Juan","lastName":"Paulo","email":"Juan.Paulo@yahoo.com","address":"2352 Angular Way","city":"Portland","state":{"id":24,"abbreviation":"OR","name":"Oregon"},"stateId":24,"zip":85242,"gender":"Male","id":14,"orderCount":8,"orders":[{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-23T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-15T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-30T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-20T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-09-05T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-24T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-18T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-15T11:45:13.324Z"}]},{"firstName":"Gene","lastName":"Thomas","email":"Gene.Thomas@gmail.com","address":"23566 Directive Pl.","city":"Seattle","state":{"id":44,"abbreviation":"WA","name":"Washington"},"stateId":44,"zip":85243,"gender":"Male","id":15,"orderCount":3,"orders":[{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-01T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-08-17T11:45:13.324Z"},{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-08-27T11:45:13.324Z"}]},{"firstName":"Pinal","lastName":"Dave","email":"Pinal.Dave@gmail.com","address":"235235 Yaz Blvd.","city":"Houston","state":{"id":36,"abbreviation":"TX","name":"Texas"},"stateId":36,"zip":85244,"gender":"Male","id":16,"orderCount":4,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-21T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-08-11T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-17T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-14T11:45:13.324Z"}]},{"firstName":"Fred","lastName":"Roberts","email":"Fred.Roberts@outlook.com","address":"7656 Crescent St.","city":"Chicago","state":{"id":25,"abbreviation":"IL","name":"Illinois"},"stateId":25,"zip":85245,"gender":"Male","id":17,"orderCount":2,"orders":[{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-23T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-09T11:45:13.324Z"}]},{"firstName":"Tina","lastName":"Roberts","email":"Tina.Roberts@outlook.com","address":"76543 Moon Ave.","city":"Atlanta","state":{"id":19,"abbreviation":"GA","name":"Georgia"},"stateId":19,"zip":85246,"gender":"Female","id":18,"orderCount":7,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-30T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-20T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-16T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-09T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-08-09T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-07-07T11:45:13.324Z"},{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-06-23T11:45:13.324Z"}]},{"firstName":"Cindy","lastName":"Jamison","email":"Cindy.Jamison@gmail.com","address":"84533 Hardrock St.","city":"Chandler","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85247,"gender":"Female","id":19,"orderCount":3,"orders":[{"product":"Needes","price":5.99,"quantity":1,"date":"2015-07-13T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-06T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-26T11:45:13.324Z"}]},{"firstName":"Robyn","lastName":"Flores","email":"Robyn.Flores@yahoo.com","address":"5687534 Jefferson Way","city":"Buffalo","state":{"id":14,"abbreviation":"NY","name":"New York"},"stateId":14,"zip":85248,"gender":"Female","id":20,"orderCount":8,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-07-04T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-13T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-20T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-09-20T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-18T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-25T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-18T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-09-05T11:45:13.324Z"}]},{"firstName":"Jeff","lastName":"Wahlin","email":"Jeff.Wahlin@gmail.com","address":"346346 Blue Pl.","city":"Albuquerque","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85249,"gender":"Male","id":21,"orderCount":5,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-21T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-06-28T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-21T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-12T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-12T11:45:13.324Z"}]},{"firstName":"Danny","lastName":"Wahlin","email":"Danny.Wahlin@gmail.com","address":"23423 Adams St.","city":"Boise","state":{"id":23,"abbreviation":"ID","name":"Idaho"},"stateId":23,"zip":85250,"gender":"Male","id":22,"orderCount":2,"orders":[{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-07-26T11:45:13.324Z"},{"product":"Bat","price":19.99,"quantity":1,"date":"2015-07-15T11:45:13.324Z"}]},{"firstName":"Elaine","lastName":"Jones","email":"Elaine.Jones@yahoo.com","address":"633 Main St.","city":"Salt Lake City","state":{"id":38,"abbreviation":"UT","name":"Utah"},"stateId":38,"zip":85251,"gender":"Female","id":23,"orderCount":11,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-08-10T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-07-21T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-09-23T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-28T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-20T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-09-13T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-09-02T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-08-06T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-09T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-11T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-08-24T11:45:13.324Z"}]}],
            "states":[{"id":1,"name":"Alabama","abbreviation":"AL"},{"id":2,"name":" Montana","abbreviation":"MT"},{"id":3,"name":" Alaska","abbreviation":"AK"},{"id":4,"name":" Nebraska","abbreviation":"NE"},{"id":5,"name":" Arizona","abbreviation":"AZ"},{"id":6,"name":" Nevada","abbreviation":"NV"},{"id":7,"name":"Arkansas","abbreviation":"AR"},{"id":8,"name":" New Hampshire","abbreviation":"NH"},{"id":9,"name":"California","abbreviation":"CA"},{"id":10,"name":"New Jersey","abbreviation":"NJ"},{"id":11,"name":"Colorado","abbreviation":"CO"},{"id":12,"name":"New Mexico","abbreviation":"NM"},{"id":13,"name":"Connecticut","abbreviation":"CT"},{"id":14,"name":"New York","abbreviation":"NY"},{"id":15,"name":"Delaware","abbreviation":"DE"},{"id":16,"name":"North Carolina","abbreviation":"NC"},{"id":17,"name":"Florida","abbreviation":"FL"},{"id":18,"name":"North Dakota","abbreviation":"ND"},{"id":19,"name":"Georgia","abbreviation":"GA"},{"id":20,"name":"Ohio","abbreviation":"OH"},{"id":21,"name":"Hawaii","abbreviation":"HI"},{"id":22,"name":"Oklahoma","abbreviation":"OK"},{"id":23,"name":"Idaho","abbreviation":"ID"},{"id":24,"name":"Oregon","abbreviation":"OR"},{"id":25,"name":"Illinois","abbreviation":"IL"},{"id":26,"name":"Pennsylvania","abbreviation":"PA"},{"id":27,"name":"Indiana","abbreviation":"IN"},{"id":28,"name":" Rhode Island","abbreviation":"RI"},{"id":29,"name":"Iowa","abbreviation":"IA"},{"id":30,"name":"South Carolina","abbreviation":"SC"},{"id":31,"name":"Kansas","abbreviation":"KS"},{"id":32,"name":"South Dakota","abbreviation":"SD"},{"id":33,"name":"Kentucky","abbreviation":"KY"},{"id":34,"name":"Tennessee","abbreviation":"TN"},{"id":35,"name":"Louisiana","abbreviation":"LA"},{"id":36,"name":"Texas","abbreviation":"TX"},{"id":37,"name":"Maine","abbreviation":"ME"},{"id":38,"name":"Utah","abbreviation":"UT"},{"id":39,"name":"Maryland","abbreviation":"MD"},{"id":40,"name":"Vermont","abbreviation":"VT"},{"id":41,"name":"Massachusetts","abbreviation":"MA"},{"id":42,"name":"Virginia","abbreviation":"VA"},{"id":43,"name":"Michigan","abbreviation":"MI"},{"id":44,"name":"Washington","abbreviation":"WA"},{"id":45,"name":"Minnesota","abbreviation":"MN"},{"id":46,"name":"West Virginia","abbreviation":"WV"},{"id":47,"name":"Mississippi","abbreviation":"MS"},{"id":48,"name":"Wisconsin","abbreviation":"WI"},{"id":49,"name":"Missouri","abbreviation":"MO"},{"id":50,"name":"Wyoming","abbreviation":"WY"}]}*/
                
                
            var stateDataDummy = '{"states":[{"id":1,"name":"Alabama","abbreviation":"AL"},{"id":2,"name":" Montana","abbreviation":"MT"},{"id":3,"name":" Alaska","abbreviation":"AK"},{"id":4,"name":" Nebraska","abbreviation":"NE"},{"id":5,"name":" Arizona","abbreviation":"AZ"},{"id":6,"name":" Nevada","abbreviation":"NV"},{"id":7,"name":"Arkansas","abbreviation":"AR"},{"id":8,"name":" New Hampshire","abbreviation":"NH"},{"id":9,"name":"California","abbreviation":"CA"},{"id":10,"name":"New Jersey","abbreviation":"NJ"},{"id":11,"name":"Colorado","abbreviation":"CO"},{"id":12,"name":"New Mexico","abbreviation":"NM"},{"id":13,"name":"Connecticut","abbreviation":"CT"},{"id":14,"name":"New York","abbreviation":"NY"},{"id":15,"name":"Delaware","abbreviation":"DE"},{"id":16,"name":"North Carolina","abbreviation":"NC"},{"id":17,"name":"Florida","abbreviation":"FL"},{"id":18,"name":"North Dakota","abbreviation":"ND"},{"id":19,"name":"Georgia","abbreviation":"GA"},{"id":20,"name":"Ohio","abbreviation":"OH"},{"id":21,"name":"Hawaii","abbreviation":"HI"},{"id":22,"name":"Oklahoma","abbreviation":"OK"},{"id":23,"name":"Idaho","abbreviation":"ID"},{"id":24,"name":"Oregon","abbreviation":"OR"},{"id":25,"name":"Illinois","abbreviation":"IL"},{"id":26,"name":"Pennsylvania","abbreviation":"PA"},{"id":27,"name":"Indiana","abbreviation":"IN"},{"id":28,"name":" Rhode Island","abbreviation":"RI"},{"id":29,"name":"Iowa","abbreviation":"IA"},{"id":30,"name":"South Carolina","abbreviation":"SC"},{"id":31,"name":"Kansas","abbreviation":"KS"},{"id":32,"name":"South Dakota","abbreviation":"SD"},{"id":33,"name":"Kentucky","abbreviation":"KY"},{"id":34,"name":"Tennessee","abbreviation":"TN"},{"id":35,"name":"Louisiana","abbreviation":"LA"},{"id":36,"name":"Texas","abbreviation":"TX"},{"id":37,"name":"Maine","abbreviation":"ME"},{"id":38,"name":"Utah","abbreviation":"UT"},{"id":39,"name":"Maryland","abbreviation":"MD"},{"id":40,"name":"Vermont","abbreviation":"VT"},{"id":41,"name":"Massachusetts","abbreviation":"MA"},{"id":42,"name":"Virginia","abbreviation":"VA"},{"id":43,"name":"Michigan","abbreviation":"MI"},{"id":44,"name":"Washington","abbreviation":"WA"},{"id":45,"name":"Minnesota","abbreviation":"MN"},{"id":46,"name":"West Virginia","abbreviation":"WV"},{"id":47,"name":"Mississippi","abbreviation":"MS"},{"id":48,"name":"Wisconsin","abbreviation":"WI"},{"id":49,"name":"Missouri","abbreviation":"MO"},{"id":50,"name":"Wyoming","abbreviation":"WY"}]}';
            var stateJSON = angular.fromJson(stateDataDummy);

            console.log("getStates stateJSON : "+stateJSON.states);
            
            deffered.resolve(stateJSON.states);
            return deffered.promise;
            
            /*return $http.get(serviceBase + 'states').then(
                function(results) {
                    return results.data;
                });*/
        };
        
        function extendCustomers(customers) {
            var custsLen = customers.length;
            //Iterate through customers
            for (var i = 0; i < custsLen; i++) {
                var cust = customers[i];
                if (!cust.orders) continue;

                var ordersLen = cust.orders.length;
                for (var j = 0; j < ordersLen; j++) {
                    var order = cust.orders[j];
                    order.orderTotal = order.quantity * order.price;
                }
                cust.ordersTotal = ordersTotal(cust);
            }
        }
        
        function getPagedResource(baseResource, pageIndex, pageSize) {
            var deffered = $q.defer();
            /*{"customers":[{"firstName":"Marcus","lastName":"HighTower","email":"Marcus.HighTower@acmecorp.com","address":"1234 Anywhere St.","city":"Phoenix","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85229,"gender":"Male","id":1,"orderCount":10,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-07-18T11:45:13.323Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-10T11:45:13.323Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-09-20T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-27T11:45:13.323Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-10T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-13T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-05T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-06-18T11:45:13.323Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-22T11:45:13.323Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-07-21T11:45:13.323Z"}]},{"firstName":"Jesse","lastName":"Smith","email":"Jesse.Smith@gmail.com","address":"435 Main St.","city":"Encinitas","state":{"id":9,"abbreviation":"CA","name":"California"},"stateId":9,"zip":85230,"gender":"Female","id":2,"orderCount":5,"orders":[{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-09-07T11:45:13.323Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-02T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-08-17T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-15T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-31T11:45:13.323Z"}]},{"firstName":"Albert","lastName":"Einstein","email":"Albert.Einstein@outlook.com","address":"1 Atomic St.","city":"Seattle","state":{"id":44,"abbreviation":"WA","name":"Washington"},"stateId":44,"zip":85231,"gender":"Male","id":3,"orderCount":2,"orders":[{"product":"Needes","price":5.99,"quantity":1,"date":"2015-06-28T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-27T11:45:13.323Z"}]},{"firstName":"Dan","lastName":"Wahlin","email":"Dan.Wahlin@yahoo.com","address":"85 Cedar Dr.","city":"Chandler","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85232,"gender":"Male","id":4,"orderCount":11,"orders":[{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-07-15T11:45:13.323Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-14T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-19T11:45:13.323Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-07T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-08-03T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-22T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-08-03T11:45:13.323Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-26T11:45:13.323Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-27T11:45:13.323Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-07-04T11:45:13.323Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-09-12T11:45:13.323Z"}]},{"firstName":"Ward","lastName":"Bell","email":"Ward.Bell@gmail.com","address":"12 Ocean View St.","city":"Dallas","state":{"id":36,"abbreviation":"TX","name":"Texas"},"stateId":36,"zip":85233,"gender":"Male","id":5,"orderCount":8,"orders":[{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-09T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-23T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-06-23T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-09-05T11:45:13.323Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-12T11:45:13.323Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-05T11:45:13.323Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-05T11:45:13.323Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-07-07T11:45:13.323Z"}]},{"firstName":"Brad","lastName":"Green","email":"Brad.Green@gmail.com","address":"1600 Amphitheatre Parkway","city":"Orlando","state":{"id":17,"abbreviation":"FL","name":"Florida"},"stateId":17,"zip":85234,"gender":"Male","id":6,"orderCount":6,"orders":[{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-06-28T11:45:13.323Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-07-13T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-07T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-08T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-06-30T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-13T11:45:13.324Z"}]},{"firstName":"Igor","lastName":"Minar","email":"Igor.Minar@gmail.com","address":"1604 Amphitheatre Parkway","city":"Carey","state":{"id":16,"abbreviation":"NC","name":"North Carolina"},"stateId":16,"zip":85235,"gender":"Male","id":7,"orderCount":5,"orders":[{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-08T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-11T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-06-29T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-09-03T11:45:13.324Z"},{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-08-11T11:45:13.324Z"}]},{"firstName":"Misko","lastName":"Hevery","email":"Misko.Hevery@gmail.com","address":"1607 Amphitheatre Parkway","city":"Anaheim","state":{"id":9,"abbreviation":"CA","name":"California"},"stateId":9,"zip":85236,"gender":"Male","id":8,"orderCount":7,"orders":[{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-31T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-06T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-06-28T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-30T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-09-13T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-09-10T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-16T11:45:13.324Z"}]},{"firstName":"Michelle","lastName":"Avery","email":"Michelle.Avery@acmecorp.com","address":"346 Cedar Ave.","city":"Dallas","state":{"id":36,"abbreviation":"TX","name":"Texas"},"stateId":36,"zip":85237,"gender":"Female","id":9,"orderCount":6,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-04T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-29T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-31T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-20T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-11T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-07-19T11:45:13.324Z"}]},{"firstName":"Heedy","lastName":"Wahlin","email":"Heedy.Wahlin@hotmail.com","address":"4576 Main St.","city":"New York","state":{"id":14,"abbreviation":"NY","name":"New York"},"stateId":14,"zip":85238,"gender":"Female","id":10,"orderCount":11,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-06-20T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-07-20T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-26T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-14T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-09-01T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-08-05T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-06-28T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-24T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-07T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-14T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-07T11:45:13.324Z"}]},{"firstName":"Thomas","lastName":"Martin","email":"Thomas.Martin@outlook.com","address":"964 Point St.","city":"White Plains","state":{"id":14,"abbreviation":"NY","name":"New York"},"stateId":14,"zip":85239,"gender":"Male","id":11,"orderCount":7,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-07-26T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-01T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-09-20T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-09-09T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-06T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-16T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-06T11:45:13.324Z"}]},{"firstName":"Jean","lastName":"Martin","email":"Jean.Martin@outlook.com","address":"98756 Center St.","city":"Las Vegas","state":{"id":6,"abbreviation":"NV","name":"Nevada"},"stateId":6,"zip":85240,"gender":"Female","id":12,"orderCount":1,"orders":[{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-07T11:45:13.324Z"}]},{"firstName":"Robin","lastName":"Cleark","email":"Robin.Cleark@acmecorp.com","address":"35632 Richmond Circle Apt B","city":"Los Angeles","state":{"id":9,"abbreviation":"CA","name":"California"},"stateId":9,"zip":85241,"gender":"Female","id":13,"orderCount":6,"orders":[{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-21T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-09-22T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-05T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-06T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-03T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-06-18T11:45:13.324Z"}]},{"firstName":"Juan","lastName":"Paulo","email":"Juan.Paulo@yahoo.com","address":"2352 Angular Way","city":"Portland","state":{"id":24,"abbreviation":"OR","name":"Oregon"},"stateId":24,"zip":85242,"gender":"Male","id":14,"orderCount":8,"orders":[{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-23T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-15T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-30T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-20T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-09-05T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-24T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-18T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-15T11:45:13.324Z"}]},{"firstName":"Gene","lastName":"Thomas","email":"Gene.Thomas@gmail.com","address":"23566 Directive Pl.","city":"Seattle","state":{"id":44,"abbreviation":"WA","name":"Washington"},"stateId":44,"zip":85243,"gender":"Male","id":15,"orderCount":3,"orders":[{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-01T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-08-17T11:45:13.324Z"},{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-08-27T11:45:13.324Z"}]},{"firstName":"Pinal","lastName":"Dave","email":"Pinal.Dave@gmail.com","address":"235235 Yaz Blvd.","city":"Houston","state":{"id":36,"abbreviation":"TX","name":"Texas"},"stateId":36,"zip":85244,"gender":"Male","id":16,"orderCount":4,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-21T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-08-11T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-17T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-14T11:45:13.324Z"}]},{"firstName":"Fred","lastName":"Roberts","email":"Fred.Roberts@outlook.com","address":"7656 Crescent St.","city":"Chicago","state":{"id":25,"abbreviation":"IL","name":"Illinois"},"stateId":25,"zip":85245,"gender":"Male","id":17,"orderCount":2,"orders":[{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-23T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-09T11:45:13.324Z"}]},{"firstName":"Tina","lastName":"Roberts","email":"Tina.Roberts@outlook.com","address":"76543 Moon Ave.","city":"Atlanta","state":{"id":19,"abbreviation":"GA","name":"Georgia"},"stateId":19,"zip":85246,"gender":"Female","id":18,"orderCount":7,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-30T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-20T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-16T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-09T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-08-09T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-07-07T11:45:13.324Z"},{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-06-23T11:45:13.324Z"}]},{"firstName":"Cindy","lastName":"Jamison","email":"Cindy.Jamison@gmail.com","address":"84533 Hardrock St.","city":"Chandler","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85247,"gender":"Female","id":19,"orderCount":3,"orders":[{"product":"Needes","price":5.99,"quantity":1,"date":"2015-07-13T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-06T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-26T11:45:13.324Z"}]},{"firstName":"Robyn","lastName":"Flores","email":"Robyn.Flores@yahoo.com","address":"5687534 Jefferson Way","city":"Buffalo","state":{"id":14,"abbreviation":"NY","name":"New York"},"stateId":14,"zip":85248,"gender":"Female","id":20,"orderCount":8,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-07-04T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-13T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-20T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-09-20T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-18T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-25T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-18T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-09-05T11:45:13.324Z"}]},{"firstName":"Jeff","lastName":"Wahlin","email":"Jeff.Wahlin@gmail.com","address":"346346 Blue Pl.","city":"Albuquerque","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85249,"gender":"Male","id":21,"orderCount":5,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-21T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-06-28T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-21T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-12T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-12T11:45:13.324Z"}]},{"firstName":"Danny","lastName":"Wahlin","email":"Danny.Wahlin@gmail.com","address":"23423 Adams St.","city":"Boise","state":{"id":23,"abbreviation":"ID","name":"Idaho"},"stateId":23,"zip":85250,"gender":"Male","id":22,"orderCount":2,"orders":[{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-07-26T11:45:13.324Z"},{"product":"Bat","price":19.99,"quantity":1,"date":"2015-07-15T11:45:13.324Z"}]},{"firstName":"Elaine","lastName":"Jones","email":"Elaine.Jones@yahoo.com","address":"633 Main St.","city":"Salt Lake City","state":{"id":38,"abbreviation":"UT","name":"Utah"},"stateId":38,"zip":85251,"gender":"Female","id":23,"orderCount":11,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-08-10T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-07-21T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-09-23T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-28T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-20T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-09-13T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-09-02T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-08-06T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-09T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-11T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-08-24T11:45:13.324Z"}]}],
            "states":[{"id":1,"name":"Alabama","abbreviation":"AL"},{"id":2,"name":" Montana","abbreviation":"MT"},{"id":3,"name":" Alaska","abbreviation":"AK"},{"id":4,"name":" Nebraska","abbreviation":"NE"},{"id":5,"name":" Arizona","abbreviation":"AZ"},{"id":6,"name":" Nevada","abbreviation":"NV"},{"id":7,"name":"Arkansas","abbreviation":"AR"},{"id":8,"name":" New Hampshire","abbreviation":"NH"},{"id":9,"name":"California","abbreviation":"CA"},{"id":10,"name":"New Jersey","abbreviation":"NJ"},{"id":11,"name":"Colorado","abbreviation":"CO"},{"id":12,"name":"New Mexico","abbreviation":"NM"},{"id":13,"name":"Connecticut","abbreviation":"CT"},{"id":14,"name":"New York","abbreviation":"NY"},{"id":15,"name":"Delaware","abbreviation":"DE"},{"id":16,"name":"North Carolina","abbreviation":"NC"},{"id":17,"name":"Florida","abbreviation":"FL"},{"id":18,"name":"North Dakota","abbreviation":"ND"},{"id":19,"name":"Georgia","abbreviation":"GA"},{"id":20,"name":"Ohio","abbreviation":"OH"},{"id":21,"name":"Hawaii","abbreviation":"HI"},{"id":22,"name":"Oklahoma","abbreviation":"OK"},{"id":23,"name":"Idaho","abbreviation":"ID"},{"id":24,"name":"Oregon","abbreviation":"OR"},{"id":25,"name":"Illinois","abbreviation":"IL"},{"id":26,"name":"Pennsylvania","abbreviation":"PA"},{"id":27,"name":"Indiana","abbreviation":"IN"},{"id":28,"name":" Rhode Island","abbreviation":"RI"},{"id":29,"name":"Iowa","abbreviation":"IA"},{"id":30,"name":"South Carolina","abbreviation":"SC"},{"id":31,"name":"Kansas","abbreviation":"KS"},{"id":32,"name":"South Dakota","abbreviation":"SD"},{"id":33,"name":"Kentucky","abbreviation":"KY"},{"id":34,"name":"Tennessee","abbreviation":"TN"},{"id":35,"name":"Louisiana","abbreviation":"LA"},{"id":36,"name":"Texas","abbreviation":"TX"},{"id":37,"name":"Maine","abbreviation":"ME"},{"id":38,"name":"Utah","abbreviation":"UT"},{"id":39,"name":"Maryland","abbreviation":"MD"},{"id":40,"name":"Vermont","abbreviation":"VT"},{"id":41,"name":"Massachusetts","abbreviation":"MA"},{"id":42,"name":"Virginia","abbreviation":"VA"},{"id":43,"name":"Michigan","abbreviation":"MI"},{"id":44,"name":"Washington","abbreviation":"WA"},{"id":45,"name":"Minnesota","abbreviation":"MN"},{"id":46,"name":"West Virginia","abbreviation":"WV"},{"id":47,"name":"Mississippi","abbreviation":"MS"},{"id":48,"name":"Wisconsin","abbreviation":"WI"},{"id":49,"name":"Missouri","abbreviation":"MO"},{"id":50,"name":"Wyoming","abbreviation":"WY"}]}*/
                
                
            var custsDataDummy = '{"customers":[{"firstName":"Marcus","lastName":"HighTower","email":"Marcus.HighTower@acmecorp.com","address":"1234 Anywhere St.","city":"Phoenix","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85229,"gender":"Male","id":1,"orderCount":10,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-07-18T11:45:13.323Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-10T11:45:13.323Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-09-20T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-27T11:45:13.323Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-10T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-13T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-05T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-06-18T11:45:13.323Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-22T11:45:13.323Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-07-21T11:45:13.323Z"}]},{"firstName":"Jesse","lastName":"Smith","email":"Jesse.Smith@gmail.com","address":"435 Main St.","city":"Encinitas","state":{"id":9,"abbreviation":"CA","name":"California"},"stateId":9,"zip":85230,"gender":"Female","id":2,"orderCount":5,"orders":[{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-09-07T11:45:13.323Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-02T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-08-17T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-15T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-31T11:45:13.323Z"}]},{"firstName":"Albert","lastName":"Einstein","email":"Albert.Einstein@outlook.com","address":"1 Atomic St.","city":"Seattle","state":{"id":44,"abbreviation":"WA","name":"Washington"},"stateId":44,"zip":85231,"gender":"Male","id":3,"orderCount":2,"orders":[{"product":"Needes","price":5.99,"quantity":1,"date":"2015-06-28T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-27T11:45:13.323Z"}]},{"firstName":"Dan","lastName":"Wahlin","email":"Dan.Wahlin@yahoo.com","address":"85 Cedar Dr.","city":"Chandler","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85232,"gender":"Male","id":4,"orderCount":11,"orders":[{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-07-15T11:45:13.323Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-14T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-19T11:45:13.323Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-07T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-08-03T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-22T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-08-03T11:45:13.323Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-26T11:45:13.323Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-27T11:45:13.323Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-07-04T11:45:13.323Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-09-12T11:45:13.323Z"}]},{"firstName":"Ward","lastName":"Bell","email":"Ward.Bell@gmail.com","address":"12 Ocean View St.","city":"Dallas","state":{"id":36,"abbreviation":"TX","name":"Texas"},"stateId":36,"zip":85233,"gender":"Male","id":5,"orderCount":8,"orders":[{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-09T11:45:13.323Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-23T11:45:13.323Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-06-23T11:45:13.323Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-09-05T11:45:13.323Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-12T11:45:13.323Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-05T11:45:13.323Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-05T11:45:13.323Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-07-07T11:45:13.323Z"}]},{"firstName":"Brad","lastName":"Green","email":"Brad.Green@gmail.com","address":"1600 Amphitheatre Parkway","city":"Orlando","state":{"id":17,"abbreviation":"FL","name":"Florida"},"stateId":17,"zip":85234,"gender":"Male","id":6,"orderCount":6,"orders":[{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-06-28T11:45:13.323Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-07-13T11:45:13.323Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-07T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-08T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-06-30T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-13T11:45:13.324Z"}]},{"firstName":"Igor","lastName":"Minar","email":"Igor.Minar@gmail.com","address":"1604 Amphitheatre Parkway","city":"Carey","state":{"id":16,"abbreviation":"NC","name":"North Carolina"},"stateId":16,"zip":85235,"gender":"Male","id":7,"orderCount":5,"orders":[{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-08T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-11T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-06-29T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-09-03T11:45:13.324Z"},{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-08-11T11:45:13.324Z"}]},{"firstName":"Misko","lastName":"Hevery","email":"Misko.Hevery@gmail.com","address":"1607 Amphitheatre Parkway","city":"Anaheim","state":{"id":9,"abbreviation":"CA","name":"California"},"stateId":9,"zip":85236,"gender":"Male","id":8,"orderCount":7,"orders":[{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-31T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-06T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-06-28T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-30T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-09-13T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-09-10T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-16T11:45:13.324Z"}]},{"firstName":"Michelle","lastName":"Avery","email":"Michelle.Avery@acmecorp.com","address":"346 Cedar Ave.","city":"Dallas","state":{"id":36,"abbreviation":"TX","name":"Texas"},"stateId":36,"zip":85237,"gender":"Female","id":9,"orderCount":6,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-04T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-29T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-31T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-20T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-11T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-07-19T11:45:13.324Z"}]},{"firstName":"Heedy","lastName":"Wahlin","email":"Heedy.Wahlin@hotmail.com","address":"4576 Main St.","city":"New York","state":{"id":14,"abbreviation":"NY","name":"New York"},"stateId":14,"zip":85238,"gender":"Female","id":10,"orderCount":11,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-06-20T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-07-20T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-26T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-08-14T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-09-01T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-08-05T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-06-28T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-24T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-07T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-14T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-07T11:45:13.324Z"}]},{"firstName":"Thomas","lastName":"Martin","email":"Thomas.Martin@outlook.com","address":"964 Point St.","city":"White Plains","state":{"id":14,"abbreviation":"NY","name":"New York"},"stateId":14,"zip":85239,"gender":"Male","id":11,"orderCount":7,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-07-26T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-01T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-09-20T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-09-09T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-06T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-16T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-06T11:45:13.324Z"}]},{"firstName":"Jean","lastName":"Martin","email":"Jean.Martin@outlook.com","address":"98756 Center St.","city":"Las Vegas","state":{"id":6,"abbreviation":"NV","name":"Nevada"},"stateId":6,"zip":85240,"gender":"Female","id":12,"orderCount":1,"orders":[{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-07T11:45:13.324Z"}]},{"firstName":"Robin","lastName":"Cleark","email":"Robin.Cleark@acmecorp.com","address":"35632 Richmond Circle Apt B","city":"Los Angeles","state":{"id":9,"abbreviation":"CA","name":"California"},"stateId":9,"zip":85241,"gender":"Female","id":13,"orderCount":6,"orders":[{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-21T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-09-22T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-05T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-06T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-03T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-06-18T11:45:13.324Z"}]},{"firstName":"Juan","lastName":"Paulo","email":"Juan.Paulo@yahoo.com","address":"2352 Angular Way","city":"Portland","state":{"id":24,"abbreviation":"OR","name":"Oregon"},"stateId":24,"zip":85242,"gender":"Male","id":14,"orderCount":8,"orders":[{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-23T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-15T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-30T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-07-20T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-09-05T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-24T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-18T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-15T11:45:13.324Z"}]},{"firstName":"Gene","lastName":"Thomas","email":"Gene.Thomas@gmail.com","address":"23566 Directive Pl.","city":"Seattle","state":{"id":44,"abbreviation":"WA","name":"Washington"},"stateId":44,"zip":85243,"gender":"Male","id":15,"orderCount":3,"orders":[{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-01T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-08-17T11:45:13.324Z"},{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-08-27T11:45:13.324Z"}]},{"firstName":"Pinal","lastName":"Dave","email":"Pinal.Dave@gmail.com","address":"235235 Yaz Blvd.","city":"Houston","state":{"id":36,"abbreviation":"TX","name":"Texas"},"stateId":36,"zip":85244,"gender":"Male","id":16,"orderCount":4,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-21T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-08-11T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-08-17T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-14T11:45:13.324Z"}]},{"firstName":"Fred","lastName":"Roberts","email":"Fred.Roberts@outlook.com","address":"7656 Crescent St.","city":"Chicago","state":{"id":25,"abbreviation":"IL","name":"Illinois"},"stateId":25,"zip":85245,"gender":"Male","id":17,"orderCount":2,"orders":[{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-23T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-09T11:45:13.324Z"}]},{"firstName":"Tina","lastName":"Roberts","email":"Tina.Roberts@outlook.com","address":"76543 Moon Ave.","city":"Atlanta","state":{"id":19,"abbreviation":"GA","name":"Georgia"},"stateId":19,"zip":85246,"gender":"Female","id":18,"orderCount":7,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-30T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-07-20T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-16T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-08-09T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-08-09T11:45:13.324Z"},{"product":"Lego City","price":49.99,"quantity":1,"date":"2015-07-07T11:45:13.324Z"},{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-06-23T11:45:13.324Z"}]},{"firstName":"Cindy","lastName":"Jamison","email":"Cindy.Jamison@gmail.com","address":"84533 Hardrock St.","city":"Chandler","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85247,"gender":"Female","id":19,"orderCount":3,"orders":[{"product":"Needes","price":5.99,"quantity":1,"date":"2015-07-13T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-06T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-26T11:45:13.324Z"}]},{"firstName":"Robyn","lastName":"Flores","email":"Robyn.Flores@yahoo.com","address":"5687534 Jefferson Way","city":"Buffalo","state":{"id":14,"abbreviation":"NY","name":"New York"},"stateId":14,"zip":85248,"gender":"Female","id":20,"orderCount":8,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-07-04T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-08-13T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-08-20T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-09-20T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-18T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-07-25T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-07-18T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-09-05T11:45:13.324Z"}]},{"firstName":"Jeff","lastName":"Wahlin","email":"Jeff.Wahlin@gmail.com","address":"346346 Blue Pl.","city":"Albuquerque","state":{"id":5,"abbreviation":"AZ","name":"Arizona"},"stateId":5,"zip":85249,"gender":"Male","id":21,"orderCount":5,"orders":[{"product":"Chair","price":129.99,"quantity":4,"date":"2015-08-21T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-06-28T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-21T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-12T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-09-12T11:45:13.324Z"}]},{"firstName":"Danny","lastName":"Wahlin","email":"Danny.Wahlin@gmail.com","address":"23423 Adams St.","city":"Boise","state":{"id":23,"abbreviation":"ID","name":"Idaho"},"stateId":23,"zip":85250,"gender":"Male","id":22,"orderCount":2,"orders":[{"product":"Baseball","price":9.99,"quantity":5,"date":"2015-07-26T11:45:13.324Z"},{"product":"Bat","price":19.99,"quantity":1,"date":"2015-07-15T11:45:13.324Z"}]},{"firstName":"Elaine","lastName":"Jones","email":"Elaine.Jones@yahoo.com","address":"633 Main St.","city":"Salt Lake City","state":{"id":38,"abbreviation":"UT","name":"Utah"},"stateId":38,"zip":85251,"gender":"Female","id":23,"orderCount":11,"orders":[{"product":"Basket","price":29.99,"quantity":1,"date":"2015-08-10T11:45:13.324Z"},{"product":"Yarn","price":9.99,"quantity":1,"date":"2015-07-21T11:45:13.324Z"},{"product":"Needes","price":5.99,"quantity":1,"date":"2015-09-23T11:45:13.324Z"},{"product":"Speakers","price":499.99,"quantity":1,"date":"2015-07-28T11:45:13.324Z"},{"product":"iPod","price":399.99,"quantity":1,"date":"2015-08-20T11:45:13.324Z"},{"product":"Table","price":329.99,"quantity":1,"date":"2015-09-13T11:45:13.324Z"},{"product":"Chair","price":129.99,"quantity":4,"date":"2015-09-02T11:45:13.324Z"},{"product":"Lamp","price":89.99,"quantity":5,"date":"2015-08-06T11:45:13.324Z"},{"product":"Call of Duty","price":59.99,"quantity":1,"date":"2015-07-09T11:45:13.324Z"},{"product":"Controller","price":49.99,"quantity":1,"date":"2015-09-11T11:45:13.324Z"},{"product":"Gears of War","price":49.99,"quantity":1,"date":"2015-08-24T11:45:13.324Z"}]}],"states":[{"id":1,"name":"Alabama","abbreviation":"AL"},{"id":2,"name":" Montana","abbreviation":"MT"},{"id":3,"name":" Alaska","abbreviation":"AK"},{"id":4,"name":" Nebraska","abbreviation":"NE"},{"id":5,"name":" Arizona","abbreviation":"AZ"},{"id":6,"name":" Nevada","abbreviation":"NV"},{"id":7,"name":"Arkansas","abbreviation":"AR"},{"id":8,"name":" New Hampshire","abbreviation":"NH"},{"id":9,"name":"California","abbreviation":"CA"},{"id":10,"name":"New Jersey","abbreviation":"NJ"},{"id":11,"name":"Colorado","abbreviation":"CO"},{"id":12,"name":"New Mexico","abbreviation":"NM"},{"id":13,"name":"Connecticut","abbreviation":"CT"},{"id":14,"name":"New York","abbreviation":"NY"},{"id":15,"name":"Delaware","abbreviation":"DE"},{"id":16,"name":"North Carolina","abbreviation":"NC"},{"id":17,"name":"Florida","abbreviation":"FL"},{"id":18,"name":"North Dakota","abbreviation":"ND"},{"id":19,"name":"Georgia","abbreviation":"GA"},{"id":20,"name":"Ohio","abbreviation":"OH"},{"id":21,"name":"Hawaii","abbreviation":"HI"},{"id":22,"name":"Oklahoma","abbreviation":"OK"},{"id":23,"name":"Idaho","abbreviation":"ID"},{"id":24,"name":"Oregon","abbreviation":"OR"},{"id":25,"name":"Illinois","abbreviation":"IL"},{"id":26,"name":"Pennsylvania","abbreviation":"PA"},{"id":27,"name":"Indiana","abbreviation":"IN"},{"id":28,"name":" Rhode Island","abbreviation":"RI"},{"id":29,"name":"Iowa","abbreviation":"IA"},{"id":30,"name":"South Carolina","abbreviation":"SC"},{"id":31,"name":"Kansas","abbreviation":"KS"},{"id":32,"name":"South Dakota","abbreviation":"SD"},{"id":33,"name":"Kentucky","abbreviation":"KY"},{"id":34,"name":"Tennessee","abbreviation":"TN"},{"id":35,"name":"Louisiana","abbreviation":"LA"},{"id":36,"name":"Texas","abbreviation":"TX"},{"id":37,"name":"Maine","abbreviation":"ME"},{"id":38,"name":"Utah","abbreviation":"UT"},{"id":39,"name":"Maryland","abbreviation":"MD"},{"id":40,"name":"Vermont","abbreviation":"VT"},{"id":41,"name":"Massachusetts","abbreviation":"MA"},{"id":42,"name":"Virginia","abbreviation":"VA"},{"id":43,"name":"Michigan","abbreviation":"MI"},{"id":44,"name":"Washington","abbreviation":"WA"},{"id":45,"name":"Minnesota","abbreviation":"MN"},{"id":46,"name":"West Virginia","abbreviation":"WV"},{"id":47,"name":"Mississippi","abbreviation":"MS"},{"id":48,"name":"Wisconsin","abbreviation":"WI"},{"id":49,"name":"Missouri","abbreviation":"MO"},{"id":50,"name":"Wyoming","abbreviation":"WY"}]}';
            var custJSON = angular.fromJson(custsDataDummy);
            extendCustomers(custJSON);
            
            var getCustData = function(){
              return{results:custJSON,totalRecords: 1};
            }
            console.log("getCustData.results : "+getCustData.results);
            
            deffered.resolve(getCustData());
            return deffered.promise;
            
            /*var resource = baseResource;
            resource += (arguments.length == 3) ? buildPagingUri(pageIndex, pageSize) : '';
            
            return $http.get(serviceBase + resource).then(function (response) {
                var custs = response.data;
                //extendCustomers(custs);
                return {
                    totalRecords: parseInt(response.headers('X-InlineCount')),
                    results: custs
                };
            });*/
        }

        function ordersTotal(customer) {
            var total = 0;
            var orders = customer.orders;
            var count = orders.length;

            for (var i = 0; i < count; i++) {
                total += orders[i].orderTotal;
            }
            return total;
        };
        
        function buildPagingUri(pageIndex, pageSize) {
            var uri = '?$top=' + pageSize + '&$skip=' + (pageIndex * pageSize);
            return uri;
        }
        
        return factory;    
    }        
    
    customersFactory.$inject = injectParams;
    
    angular.module('customersApp').factory('customersService', customersFactory);
    

}());